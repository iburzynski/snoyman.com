
    

<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>How to send me a pull request</title>

    <meta name="twitter:site" content="@snoyberg">
    <meta name="twitter:creator" content="@snoyberg">
    <meta name="og:site_name" content="Michael Snoyman's homepage">
    <meta name="og:title" content="How to send me a pull request">
    <meta name="og:type content="website">

    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"> 
    <link rel="stylesheet" href="/maxi/vendors/font-awesome/css/fontawesome-all.min.css">
    <link rel="stylesheet" type="text/css" href="/maxi/css/styles.css">

    






    <link rel="openid2.provider" href="https://openid.stackexchange.com/openid/provider">
    <link rel="openid2.local_id" href="https://openid.stackexchange.com/user/d26546d2-46db-4099-83ca-e1eccfa0dd8d">
    <link href="/rss.xml" type="application/atom+xml" rel="alternate" title="Michael Snoyman's blog">

    <style>.wt-section { padding-top: 2rem }</style>
  <body>
    <header class="inner-page">
      

<nav class="js-navbar-scroll navbar fixed-top navbar-expand-lg">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">
      <img src="/img/snoylogo.png" height="50px">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo" aria-controls="navbarTogglerDemo" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse onCollapse" id="navbarTogglerDemo">
      <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="/blog">Blog</a>
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="https://www.yesodweb.com/">Yesod</a>
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="http://shop.oreilly.com/product/0636920035664.do">Yesod Book</a>
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="https://www.beginrust.com/">Rust Book</a>
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="https://www.youtube.com/c/snoyberg">YouTube</a>
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="https://twitter.com/snoyberg">Twitter</a>
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="https://github.com/snoyberg">Github</a>
        </li>
      </ul>
    </div>
  </div>
</nav>



      <section class="wt-section bg-gray text-center inner-page-header" style="padding-top:100px">
        <div class="container">
          <div class="row justify-content-md-center align-items-center text-white py-lg-5">
            <div class="col-md-7">
              <div class="text-center">
                <h1 class="display-sm-4 display-lg-3">How to send me a pull request</h1>
                
<p class="h6 text-uppercase wt-letter-spacing-sm mb-0">Published June  6, 2017</p>

              </div>
            </div>
          </div>
        </div>
      </section>
    </header>

    <main role="main">
      <section class="wt-section">
        <div class="container">
          <div class="row justify-content-between">
            <div class="col-lg-12">
              <p class="text-center">
                <a class="btn" style="background: #72472f; color: #fff; font-weight: bold" href="https://www.beginrust.com/">New: The "Begin Rust" book</a>
              </p>

              




  


<div class="share-bar-wrapper">
  <div class="share-bar-inner">
    <b>Share this</b>
    <a target="_blank" href="https://twitter.com/intent/tweet?text=How%20to%20send%20me%20a%20pull%20request https%3A&#x2F;&#x2F;www.snoyman.com&#x2F;blog&#x2F;2017&#x2F;06&#x2F;how-to-send-me-a-pull-request&#x2F;" title="Share on Twitter">
      <i class="fab fa-twitter"></i>
    </a>

    <a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A&#x2F;&#x2F;www.snoyman.com&#x2F;blog&#x2F;2017&#x2F;06&#x2F;how-to-send-me-a-pull-request&#x2F;" title="Share on Facebook">
      <i class="fab fa-facebook"></i>
    </a>

    <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A&#x2F;&#x2F;www.snoyman.com&#x2F;blog&#x2F;2017&#x2F;06&#x2F;how-to-send-me-a-pull-request&#x2F;&amp;title=How%20to%20send%20me%20a%20pull%20request" title="Share on LinkedIn">
      <i class="fab fa-linkedin"></i>
    </a>

    <a target="_blank" href="https://www.reddit.com/submit?url=https%3A&#x2F;&#x2F;www.snoyman.com&#x2F;blog&#x2F;2017&#x2F;06&#x2F;how-to-send-me-a-pull-request&#x2F;" title="Share on Reddit">
      <i class="fab fa-reddit"></i>
    </a>
  </div>
</div>



<!--
<div class="container" id="blog-body">
  <div class="row">
    <div class="col-lg-9">
-->
      <p>
        <i>
          See a typo? Have a suggestion?
          <a target="_blank" rel="nofollow" href="https://github.com/snoyberg/snoyman.com/edit/master/content/blog&#x2F;how-to-send-me-a-pull-request.md">Edit this page on Github</a>
        </i>
      </p>

      <p>I find myself repeating a lot of the same comments in pull requests,
so I decided to put together a list of what I consider the most
important features of a good pull request. Other people will have
different feelings on some of these, but the points below are what
apply to my projects. If you have thoughts on things I've left out, or
reasons why you disagree with these points, please comment below.</p>
<p>Many of these points only make sense for source code, and even more
specifically for code written in Haskell. My content repos (like
<a href="https://github.com/snoyberg/snoyman.com-content">this site's content</a>)
and non-Haskell repos (do I have any of those???) would be slightly
different.</p>
<p><strong>NOTE</strong>: I'm <em>not</em> the maintainer of Stack, so the comments below do
not necessarily apply there. Stack has its own contribution rules, so
please don't take my personal opinions here as relevant to that
project.</p>
<ul>
<li>
<p>Every top-level identifier exported from a library needs to have a
Haddock comment. It's irrelevant if the identifier name is
completely self-commenting; a comment is still necessary. (These are
the comments that look like <code>-- | Describe what the function does</code>.)</p>
</li>
<li>
<p>My packages all follow PVP-style version numbers, and pull requests
should include bumps to the version number. For those unfamiliar:
PVP version numbers consistent of four components, A.B.C.D.</p>
<ul>
<li>
<p>If your change fixes a bug without modifying the API at all,
then bump D (1.2.3.4 becomes 1.2.3.5, or 1.2.3 becomes 1.2.3.1).</p>
</li>
<li>
<p>If your change adds something new to the API without changing
something that already exists, bump C (1.2.3.4 becomes 1.2.4).</p>
</li>
<li>
<p>If you change the existing API (e.g., remove a function, change
semantics, modify a data type), bump either A or B (1.2.3.4
becomes either 1.3.0 or 2.0.0, depending on how big a change you
think this is).</p>
<ul>
<li>By the way, I'm unlikely to include a breaking change unless
you have a really good reason. I consider backwards
compatibility really important. Consider exporting a new
function and (optionally) deprecating the old one instead.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>To elaborate on motivation for the previous point: I follow a policy
of releasing new code fairly quickly in most cases, as opposed to
batching up a number of changes. In that situation, it makes sense
for a PR to include the new version number immediately. Many other
projects work differently, and do <em>not</em> encourage contributors to do
version bumps.</p>
<ul>
<li>Also, I sometimes forget to make a new release after merging a
PR. If I do forget, don't be shy about pinging me to make a
release.</li>
</ul>
</li>
<li>
<p>Include a <code>@since</code> annotation in each new identifier, including
the new version number you just bumped to. This is absolutely
vital for users of a library to properly specify lower bounds in
their dependencies easily.</p>
<ul>
<li>Don't include <code>@since</code> for un-exported identifiers.</li>
<li>If you are exporting a pre-existing identifier that was previously not exported, include the <code>@since</code>.</li>
<li>In other words: <code>@since</code> indicates when it was added to the
public API, <em>not</em> when it came into existence.</li>
</ul>
<p>Example:</p>
<pre style="background-color:#fdf6e3;">
<code><span style="color:#93a1a1;">-- | Download a JPEG image.
</span><span style="color:#93a1a1;">--
</span><span style="color:#93a1a1;">-- @since 1.5.2
</span><span style="color:#b58900;">downloadJPEG </span><span style="color:#859900;">:: </span><span style="color:#268bd2;">MonadIO m
</span><span style="color:#657b83;">             </span><span style="color:#859900;">=&gt; </span><span style="color:#268bd2;">Request </span><span style="color:#93a1a1;">-- ^ URL to download from
</span><span style="color:#657b83;">             </span><span style="color:#859900;">-&gt; </span><span style="color:#268bd2;">m JPEG
</span></code></pre></li>
<li>
<p>Include a <code>ChangeLog.md</code> entry. If the project doesn't have a
<code>ChangeLog.md</code>, create one. Odds are the content you write in the
changelog can be identical to the pull request description. This
is a huge end-user convenience. Example:</p>
<pre style="background-color:#fdf6e3;">
<code><span style="font-weight:bold;color:#b58900;">## </span><span style="font-weight:bold;color:#cb4b16;">1.5.2

</span><span style="color:#657b83;">* Added the `downloadJPEG` function
</span></code></pre></li>
<li>
<p>Slight exception to the above: if you're making a doc-only PR, don't bother
with a version bump, but instead add a ChangeLog entry with <code>## Unreleased</code>
and a description of the change.</p>
</li>
<li>
<p>Do not include unrelated changes in your PR, it makes it difficult
to review, more likely to get delayed, and more likely to conflict
with other changes. Include separate changes in separate PRs.</p>
</li>
<li>
<p>Keep coding style consistent with the rest of the code. I'm not a
big stickler for coding style guidelines in general, but I <em>do</em>
consider it very jarring to have conflicting styles in the same
file, or even worse the same function.</p>
</li>
<li>
<p>Similar to the previous point: think hard before sending a pull
request to modify the style of code. Again, I'm not a big stickler
on coding style, and I consider style in general a pretty arbitrary
and unimportant aspect of the code. But that makes me even less
likely to want to spend my time reviewing and discussing changes
like whether records should be aligned. (For the record, I <em>don't</em>
think they should be aligned, as it makes diffs noisier than
necessary.)</p>
</li>
<li>
<p>If you have a PR for addressing a typo, making a trivial fix, or
adding a straightforward feature: just send a PR without any prior
discussion. However, if you want to make a major overhaul, change
behavior, or break API compatibility: it's worth opening an issue
first to discuss. I don't like rejecting PRs or causing people to
waste their time, so I'd rather hash out details before you spend a
lot of time on something.</p>
</li>
<li>
<p>Don't use partial functions. I've received lots of PRs which, for
example, use <code>fromJust</code> because &quot;by analyzing the rest of the
code, you can tell it will always be a <code>Just</code> value and not
<code>Nothing</code>.&quot; That doesn't cut it for me:</p>
<ul>
<li>I'm lazy, and I don't want to reason about the code. I want the
compiler to do it for me.</li>
<li>I'm stupid, and I don't trust my own reasoning.</li>
<li>Such logic does not withstand future refactorings of the code,
making it fragile.</li>
</ul>
<p>There are definitely some exceptions to this rule, but odds are
pretty good your case won't be one of them :).</p>
</li>
<li>
<p>Added test cases are always a good thing. They also make it easier
for me to understand <em>why</em> you're writing this PR, and ensure I
don't break your work in the future (remember from the previous
point: I'm stupid).</p>
</li>
<li>
<p>When submitting PRs to libraries (as opposed to an application like
haskellers.com):</p>
<ul>
<li>Keep compatibility with older versions of dependencies whenever
possible. I try to keep as broad a range of potential package
versions as I can to help avoid &quot;dependency hell.&quot; (For the
record: dependency hell is not related to tooling in any way,
it's an intrinsic aspect of having dependencies.)</li>
<li>In some cases, if you drop compatibility with a major version of
a dependency (e.g., change from <code>transformers &gt;= 0.3</code> to
<code>transformers &gt;= 0.4</code>), I may consider it a breaking change in
the library worthy of a major version bump.</li>
<li>Avoid adding dependencies. I personally am not of the opinion
that reducing the dependency footprint is <em>that</em> important, and
strongly believe that such behavior in general leads to Not
Invented Here (NIH) syndrome. However, since enough users of my
libraries <em>do</em> feel this way, it's easier on me if you don't
incur unnecessary dependencies.</li>
</ul>
</li>
</ul>


<div class="text-center"><a href="/blog/" class="btn btn-primary">Read more blog posts</a></div>

      <div id="disqus_thread"></div>
      <script>
        (function() {var d = document, s = d.createElement('script'); s.src = '//snoyberg.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s);})();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<!--
    </div>

    <div class="col-lg-3" id="archive">
      <h3>Blog archive</h3>
      <ul class="blog-archive">
            $forall ((year, month, slug), post) <- posts
                <li>
                    <a href=@?{addPreview $ PostR year month slug}>#{postTitle post}
                    \ #
                    <i>#{prettyDay now (postTime post)}
-->

<div class="text-center"><a href="/blog/" class="btn btn-primary">Read more blog posts</a></div>


            </div>
          </div>
        </div>
      </section>
    </main>

    
<footer class="bg-dark py-5">
  <ul class="list-inline text-center text-md-right mb-0">
    <li class="list-inline-item mx-2">
      <a href="https://twitter.com/snoyberg">Follow @snoyberg</a>
    </li>
    <li class="list-inline-item mx-2">
      <a href="https://twitter.com/intent/tweet?screen_name=snoyberg">Tweet to @snoyberg</a>
    </li>
    <li class="list-inline-item mx-2">
      <a href="https://github.com/snoyberg">Github</a>
    </li>
    <li class="list-inline-item mx-2">
      <a href="https://tech.fpcomplete.com/">FP Complete</a>
    </li>
    <li class="list-inline-item mx-2">
      <a href="https://www.haskellers.com/user/snoyberg">I'm a Haskeller</a>
    </li>
  </ul>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1434510-21', 'auto');
  ga('send', 'pageview');
</script>

<!-- JS Script Files -->
<!-- Global Vendor -->
<script src="/maxi/vendors/jquery.min.js"></script>
<script src="/maxi/vendors/jquery.migrate.min.js"></script>
<script src="/maxi/vendors/popper.min.js"></script>
<script src="/maxi/vendors/bootstrap/js/bootstrap.min.js"></script>

<!-- Components Vendor  --> 
<script src="/maxi/contact/jqBootstrapValidation.js"></script>
<!--Plugin Initialize-->
<script src="/maxi/js/global.js"></script>
<!-- END JAVASCRIPTS -->


  </body>
</html>
