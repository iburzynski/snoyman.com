
    

<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>Haskell Documentation, 2016 Update</title>

    <meta name="twitter:site" content="@snoyberg">
    <meta name="twitter:creator" content="@snoyberg">
    <meta name="og:site_name" content="Michael Snoyman's homepage">
    <meta name="og:title" content="Haskell Documentation, 2016 Update">
    <meta name="og:type content="website">

    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"> 
    <link rel="stylesheet" href="/maxi/vendors/font-awesome/css/fontawesome-all.min.css">
    <link rel="stylesheet" type="text/css" href="/maxi/css/styles.css">

    






    <link rel="openid2.provider" href="https://openid.stackexchange.com/openid/provider">
    <link rel="openid2.local_id" href="https://openid.stackexchange.com/user/d26546d2-46db-4099-83ca-e1eccfa0dd8d">
    <link href="/rss.xml" type="application/atom+xml" rel="alternate" title="Michael Snoyman's blog">

    <style>.wt-section { padding-top: 2rem }</style>
  <body>
    <header class="inner-page">
      

<nav class="js-navbar-scroll navbar fixed-top navbar-expand-lg">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">
      <img src="/img/snoylogo.png" height="50px">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo" aria-controls="navbarTogglerDemo" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse onCollapse" id="navbarTogglerDemo">
      <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="/blog">Blog</a>
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="https://www.yesodweb.com/">Yesod</a>
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="http://shop.oreilly.com/product/0636920035664.do">Yesod Book</a>
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="https://www.beginrust.com/">Rust Book</a>
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="https://www.youtube.com/c/snoyberg">YouTube</a>
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="https://twitter.com/snoyberg">Twitter</a>
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          <a class="nav-link" href="https://github.com/snoyberg">Github</a>
        </li>
      </ul>
    </div>
  </div>
</nav>



      <section class="wt-section bg-gray text-center inner-page-header" style="padding-top:100px">
        <div class="container">
          <div class="row justify-content-md-center align-items-center text-white py-lg-5">
            <div class="col-md-7">
              <div class="text-center">
                <h1 class="display-sm-4 display-lg-3">Haskell Documentation, 2016 Update</h1>
                
<p class="h6 text-uppercase wt-letter-spacing-sm mb-0">Published November 28, 2016</p>

              </div>
            </div>
          </div>
        </div>
      </section>
    </header>

    <main role="main">
      <section class="wt-section">
        <div class="container">
          <div class="row justify-content-between">
            <div class="col-lg-12">
              <p class="text-center">
                <a class="btn" style="background: #72472f; color: #fff; font-weight: bold" href="https://www.beginrust.com/">New: The "Begin Rust" book</a>
              </p>

              




  


<div class="share-bar-wrapper">
  <div class="share-bar-inner">
    <b>Share this</b>
    <a target="_blank" href="https://twitter.com/intent/tweet?text=Haskell%20Documentation%2C%202016%20Update https%3A&#x2F;&#x2F;www.snoyman.com&#x2F;blog&#x2F;2016&#x2F;11&#x2F;haskell-documentation-2016-update&#x2F;" title="Share on Twitter">
      <i class="fab fa-twitter"></i>
    </a>

    <a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A&#x2F;&#x2F;www.snoyman.com&#x2F;blog&#x2F;2016&#x2F;11&#x2F;haskell-documentation-2016-update&#x2F;" title="Share on Facebook">
      <i class="fab fa-facebook"></i>
    </a>

    <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A&#x2F;&#x2F;www.snoyman.com&#x2F;blog&#x2F;2016&#x2F;11&#x2F;haskell-documentation-2016-update&#x2F;&amp;title=Haskell%20Documentation%2C%202016%20Update" title="Share on LinkedIn">
      <i class="fab fa-linkedin"></i>
    </a>

    <a target="_blank" href="https://www.reddit.com/submit?url=https%3A&#x2F;&#x2F;www.snoyman.com&#x2F;blog&#x2F;2016&#x2F;11&#x2F;haskell-documentation-2016-update&#x2F;" title="Share on Reddit">
      <i class="fab fa-reddit"></i>
    </a>
  </div>
</div>



<!--
<div class="container" id="blog-body">
  <div class="row">
    <div class="col-lg-9">
-->
      <p>
        <i>
          See a typo? Have a suggestion?
          <a target="_blank" rel="nofollow" href="https://github.com/snoyberg/snoyman.com/edit/master/content/blog&#x2F;haskell-documentation-2016-update.md">Edit this page on Github</a>
        </i>
      </p>

      <p>I've blogged, Tweeted, and conversed about Haskell documentation quite
a bit in the past. Following up on
<a href="https://www.fpcomplete.com/blog/2015/05/thousand-user-haskell-survey">tooling issues</a>,
all available evidence tells me that improving the situation for
documentation in Haskell is the next
<a href="/blog/2016/11/spreading-the-gospel-of-haskell#attacking-haskell39s-flaws">obstacle we need to knock down</a>.</p>
<p>This blog post will cover:</p>
<ul>
<li>Where I think the biggest value is to be had in improving Haskell
documentation</li>
<li>Status of various initiatives I've been involved in (and boy do I
walk away red-faced from this)</li>
<li>Recommendations for how others can best contribute</li>
<li>A basic idea of what actions I - and others at FP Complete - have
been taking</li>
</ul>
<h2 id="intermediate-docs">Intermediate docs</h2>
<p>In my opinion, the sore spot for Haskell overall is <em>intermediate</em>
docs. (Yes, that's vague, bear with me momentarily.) I'm going to
posit that:</p>
<ul>
<li>Beginners are currently well served by introductory Haskell books,
and most recently by
<a href="http://haskellbook.com/">Haskell Programming from First Principles</a></li>
<li>Once you have a solid basis in intermediate concepts, it's much
easier to jump into libraries and academic papers and understand
what's going on</li>
</ul>
<p>To me, intermediate means you already know the basics of Haskell
syntax, monads, and common typeclasses, but aren't really familiar
with any non-base libraries, concurrency, or exception handling. The
goal of intermediate documentation is to:</p>
<ul>
<li>Teach <em>which</em> libraries to use, <em>when</em> to use them, and <em>how</em> to use them</li>
<li>Give a guide on structuring Haskell programs</li>
<li>Educate on important techniques, including those mentioned above, as
well as issues around lazy evaluation and other common stumbling
blocks</li>
</ul>
<p>Many of us who have learned Haskell over the past many years have
probably picked up these topics sporadically. While some people will
want to plow ahead in that kind of haphazard approach, my belief is
that the vast majority of users want to be more guided through the
process. We'll get to the Haskell Syllabus and opinionated vs
unopinionated content a bit later.</p>
<h2 id="previous-efforts">Previous efforts</h2>
<p>It turns out, as I'm quite embarassed to admit, that I've essentially
tried reinventing the same intermediate docs concept multiple times,
first with
<a href="http://www.yesodweb.com/blog/2012/03/start-mezzo-haskell">MezzoHaskell</a>,
and then with
<a href="https://groups.google.com/d/msg/commercialhaskell/Ou00AvRdDTU/7BtgTUrTSCQJ">the Commercial Haskell doc initiative</a>. You
may also include <a href="https://www.schoolofhaskell.com/">School of Haskell</a>
in that list too, but I'm going to treat it separately.</p>
<p>These initiatives never took off. A pessimistic view is that
Haskellers are simply uninterested in contributing to such a shared
body of intermediate-level docs. I actually believed that for a bit,
but recent activity has convinced me otherwise. I think these previous
initiatives failed due to an unsatisfactory user experience. These
initiatives required people to go to an infrequently used Github repo
to view docs, which no one was doing. A few months back, a new option
presented itself.</p>
<h2 id="haskell-lang-s-documentation">haskell-lang's documentation</h2>
<p>For those who haven't seen it, you should check out the
<a href="https://haskell-lang.org/libraries">libraries page</a> and
<a href="https://haskell-lang.org/documentation">documentation page</a> on the
<a href="https://haskell-lang.org/">haskell-lang.org</a> site. I believe this
hits the nail on the head in many different ways:</p>
<ul>
<li>It directly addresses a common user question: which are the best
libraries to use for a certain task? The libraries page gives this
answer (though it can certainly be improved and expanded!)</li>
<li>We're able to curate the documentation as a community. Providing a
list of recommended documents on this site gives a reader more
confidence than simply Googling and hoping the author knows what
he/she is talking about</li>
<li>The collaboration is done via pull requests on markdown files. I've
<a href="http://www.yesodweb.com/blog/2015/08/thoughts-on-documentation">discussed previously</a>
why I think this is a far better collaboration technique than Wikis
or other options.</li>
<li>Instead of requiring all docs live within the haskell-lang.org
repository, documents can be embedded from elsewhere. For example,
I've
<a href="https://github.com/snoyberg/conduit#readme">written a conduit tutorial</a>
in the conduit repository, and
<a href="https://haskell-lang.org/library/conduit">embedded its content on haskell-lang.org</a>
via
<a href="https://github.com/haskell-lang/haskell-lang/blob/master/static/tutorial/package-conduit.url">a simple inclusion mechanism</a>. This
allows authors to maintain their documentation individually, but
provide users with a central location to find these kinds of
documents. (I'd encourage other sites to take advantage of this
transclusion technique, getting quality content into user hands is
the goal!)</li>
</ul>
<p>haskell-lang tries to host only &quot;uncontroversial&quot;
documentation. Documents explaining how to use a library are pretty
straightforward. Recommending libraries like bytestring, text, and
vector are all pretty well accepted. And for cases where multiple
libraries are used, we link to both.</p>
<p>I've merged all of the content I wrote in MezzoHaskell and the
Commercial Haskell doc initiative into haskell-lang.org where it
fit. However, there was still some more controversial content left,
such as
<a href="https://www.fpcomplete.com/blog/2016/11/exceptions-best-practices-haskell">exceptions best practices</a>,
which I know many people disagree with me about. Also, I'd like to be
able to tell a user looking for a solution, &quot;yes, there are multiple
libraries around, I recommend <strong>X</strong>.&quot; Neither of these belong on a
community site like haskell-lang, so for those...</p>
<h2 id="more-opinionated-content">More opinionated content</h2>
<p>This is where alternative sites thrive. Since I'm collaborating with
others at FP Complete on this, and actively using this in
<a href="https://www.fpcomplete.com/training">training courses</a>, I've put
together a
<a href="https://www.fpcomplete.com/haskell-syllabus">Haskell Syllabus page</a>
page. This is where I'll tell someone &quot;you should do X, even though
others disagree with me.&quot; I won't enumerate the contentious decisions
here (odds are someone else will ultimately make such a list on my
behalf).</p>
<p>And if you disagree with this? Write a new syllabus! I think it would
be a healthy thing if we could get to the point as a community where
we could have multiple recommended, opinionated syllabuses, and link
to them with a short description for each one. This may sound at odds
with some of my previous statements, so let me clarify:</p>
<ul>
<li>When there's an obviously best choice, tell the user to use it</li>
<li>When most users will be best with one choice, and another option is
available, mention it as a footnote</li>
<li>When multiple options are available and there's no way to know which
the user will want, break down and give them all the information
they need. But...</li>
<li>Try to make that happen as infrequently - and as late in the
learning process - as possible! If we could have a &quot;you've completed
Beginner Haskell, please choose between one of the following,&quot; and
explain the difference between &quot;FP Complete's course&quot; vs (for
example) &quot;lens-first Haskell&quot;, that would be a good trade-off.</li>
</ul>
<p>My thoughts on this are still evolving, and will likely change in the
future as I get more feedback from users.</p>
<h2 id="writing-style">Writing style</h2>
<p>Another big change I've made over the years is writing style. I wrote
the Yesod book in a very prose-heavy manner, focusing on explaining
details with words, and using concise, to-the-point code
examples. Many users have given me feedback to push me in a different
direction. Instead, I've recently been writing trying to write in a
very different, and thankfully easier to write, style:</p>
<ul>
<li>Short explanation of what the thing is I'm talking about and when
you'd use it</li>
<li>Synopsis: medium sized code snippet to give a flavor (I used this in
the Yesd book too, and stole the idea straight from Perl docs)</li>
<li>A series of increasingly complex examples, with the bare minimum
amount of content around it to explain what's going on</li>
</ul>
<p>I'd put this style into a hybrid of tutorial and cookbook, and think
it works well overall. I've only heard positives so far versus
previous styles, so that's encouraging. Some examples:</p>
<ul>
<li>The
<a href="https://haskell-lang.org/library/http-client">http-client tutorial</a>
fits this well, since there are no deep concepts to explain</li>
<li><a href="https://haskell-lang.org/library/conduit">conduit</a> has a bit more
explanation, but is still mostly code examples</li>
<li>At the other end,
<a href="https://haskell-lang.org/tutorial/primitive-haskell">Primitive Haskell</a>
and
<a href="https://www.fpcomplete.com/blog/2016/11/covariance-contravariance">Covariance and Contravariance</a>
and much more concept-heavy, and therefore still have a significant
chunk of prose</li>
</ul>
<p>I'm taking this approach because I think it's what most users
want. Some important points:</p>
<ul>
<li>Not all users are the same! There will almost certainly be users who
would prefer a different style of docs. Given enough user feedback
and manpower to write docs, it would be great to cater to all
tastes, but it's best right now to focus on the highest demand</li>
<li>API docs are still necessary, and are completely orthogonal to
tutorials. A tutorial doesn't document each API call, an
API-call-level explanation doesn't give enough breadth, and
certainly users need more than just the type signatures.</li>
</ul>
<h2 id="what-you-can-do">What you can do</h2>
<p>After all of that, my recommendation on how to get involved is pretty
simple:</p>
<ul>
<li>Pick a library that doesn't have a good tutorial</li>
<li>Write a tutorial</li>
<li>Submit a
<a href="https://github.com/haskell-lang/haskell-lang#contributing-content">PR to haskell-lang</a>
to include the content</li>
<li>Alternatively: get the Markdown file included in the project's repo
instead, and include the remote file instead</li>
</ul>
<h2 id="linking-to-libraries">Linking to libraries</h2>
<p>haskell-lang has a nifty feature. If you visit
<a href="https://haskell-lang.org/library/vector">https://haskell-lang.org/library/vector</a>,
it will display the vector documentation it has. But if you visit a
package like
<a href="https://haskell-lang.org/library/stm">https://haskell-lang.org/library/stm</a>
which doesn't (yet) have a tutorial on haskell-lang, it will
automatically redirect you to the
<a href="https://www.stackage.org/package/stm">Stackage package page</a>. When
giving out links to people on the internet, I recommend using the
haskell-lang.org/library/XXX link.</p>
<ul>
<li>When a tutorial is available, the haskell-lang page is great</li>
<li>When a tutorial isn't available, the doc building on Stackage is
still the most reliable around</li>
<li>In addition, Stackage docs properly link to docs built in the same
Stackage snapshot, making the cross linking more reliable</li>
<li>When present, Stackage gives preference to the <code>README.md</code> files in
a package, which are generally more useful than the description
fields.</li>
</ul>
<h2 id="school-of-haskell">School of Haskell</h2>
<p>I'd be remiss in not mentioning School of Haskell here. As far as I'm
concerned, School of Haskell is great platform for an individual to
write content without any collaboration. However, for all of the cases
I'm describing here, some kind of easy collaboration (via pull
requests) is a huge win. Opening things up more with pull requests,
README.md files, and embedding content into multiple external sites
seems like the best option today (until someone comes up with
something better!).</p>


<div class="text-center"><a href="/blog/" class="btn btn-primary">Read more blog posts</a></div>

      <div id="disqus_thread"></div>
      <script>
        (function() {var d = document, s = d.createElement('script'); s.src = '//snoyberg.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s);})();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<!--
    </div>

    <div class="col-lg-3" id="archive">
      <h3>Blog archive</h3>
      <ul class="blog-archive">
            $forall ((year, month, slug), post) <- posts
                <li>
                    <a href=@?{addPreview $ PostR year month slug}>#{postTitle post}
                    \ #
                    <i>#{prettyDay now (postTime post)}
-->

<div class="text-center"><a href="/blog/" class="btn btn-primary">Read more blog posts</a></div>


            </div>
          </div>
        </div>
      </section>
    </main>

    
<footer class="bg-dark py-5">
  <ul class="list-inline text-center text-md-right mb-0">
    <li class="list-inline-item mx-2">
      <a href="https://twitter.com/snoyberg">Follow @snoyberg</a>
    </li>
    <li class="list-inline-item mx-2">
      <a href="https://twitter.com/intent/tweet?screen_name=snoyberg">Tweet to @snoyberg</a>
    </li>
    <li class="list-inline-item mx-2">
      <a href="https://github.com/snoyberg">Github</a>
    </li>
    <li class="list-inline-item mx-2">
      <a href="https://tech.fpcomplete.com/">FP Complete</a>
    </li>
    <li class="list-inline-item mx-2">
      <a href="https://www.haskellers.com/user/snoyberg">I'm a Haskeller</a>
    </li>
  </ul>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1434510-21', 'auto');
  ga('send', 'pageview');
</script>

<!-- JS Script Files -->
<!-- Global Vendor -->
<script src="/maxi/vendors/jquery.min.js"></script>
<script src="/maxi/vendors/jquery.migrate.min.js"></script>
<script src="/maxi/vendors/popper.min.js"></script>
<script src="/maxi/vendors/bootstrap/js/bootstrap.min.js"></script>

<!-- Components Vendor  --> 
<script src="/maxi/contact/jqBootstrapValidation.js"></script>
<!--Plugin Initialize-->
<script src="/maxi/js/global.js"></script>
<!-- END JAVASCRIPTS -->


  </body>
</html>
