<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>RIO.Process</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/RIO.Process.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">rio-0.0.2.0: A standard library for Haskell</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">RIO.Process</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Reading from external processes.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:withProcess">withProcess</a> :: <a href="../unliftio-core-0.1.1.0/Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; <a href="../typed-process-0.2.1.0/System-Process-Typed.html#t:ProcessConfig">ProcessConfig</a> stdin stdout stderr -&gt; (<a href="../typed-process-0.2.1.0/System-Process-Typed.html#t:Process">Process</a> stdin stdout stderr -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:withProcess_">withProcess_</a> :: <a href="../unliftio-core-0.1.1.0/Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; <a href="../typed-process-0.2.1.0/System-Process-Typed.html#t:ProcessConfig">ProcessConfig</a> stdin stdout stderr -&gt; (<a href="../typed-process-0.2.1.0/System-Process-Typed.html#t:Process">Process</a> stdin stdout stderr -&gt; m a) -&gt; m a</li><li class="src short"><span class="keyword">data</span> <a href="#t:EnvOverride">EnvOverride</a> = <a href="#v:EnvOverride">EnvOverride</a> {<ul class="subs"><li><a href="#v:eoTextMap">eoTextMap</a> :: <a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a></li><li><a href="#v:eoStringList">eoStringList</a> :: [(<a href="RIO.html#t:String">String</a>, <a href="RIO.html#t:String">String</a>)]</li><li><a href="#v:eoPath">eoPath</a> :: [<a href="RIO.html#t:FilePath">FilePath</a>]</li><li><a href="#v:eoExeCache">eoExeCache</a> :: <a href="../base-4.10.1.0/Data-IORef.html#t:IORef">IORef</a> (<a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:FilePath">FilePath</a> (<a href="RIO.html#t:Either">Either</a> <a href="RIO-Process.html#t:ReadProcessException">ReadProcessException</a> <a href="RIO.html#t:FilePath">FilePath</a>))</li><li><a href="#v:eoExeExtensions">eoExeExtensions</a> :: [<a href="RIO.html#t:String">String</a>]</li><li><a href="#v:eoWorkingDir">eoWorkingDir</a> :: !(<a href="RIO.html#t:Maybe">Maybe</a> <a href="RIO.html#t:FilePath">FilePath</a>)</li></ul>}</li><li class="src short"><a href="#v:unEnvOverride">unEnvOverride</a> :: <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; <a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a></li><li class="src short"><a href="#v:mkEnvOverride">mkEnvOverride</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a> -&gt; m <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a></li><li class="src short"><a href="#v:modifyEnvOverride">modifyEnvOverride</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; (<a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a> -&gt; <a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a>) -&gt; m <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a></li><li class="src short"><a href="#v:envHelper">envHelper</a> :: <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; [(<a href="RIO.html#t:String">String</a>, <a href="RIO.html#t:String">String</a>)]</li><li class="src short"><a href="#v:doesExecutableExist">doesExecutableExist</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; <a href="RIO.html#t:String">String</a> -&gt; m <a href="RIO.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:findExecutable">findExecutable</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadThrow">MonadThrow</a> n) =&gt; <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; <a href="RIO.html#t:String">String</a> -&gt; m (n <a href="RIO.html#t:FilePath">FilePath</a>)</li><li class="src short"><a href="#v:getEnvOverride">getEnvOverride</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; m <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a></li><li class="src short"><a href="#v:envSearchPath">envSearchPath</a> :: <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; [<a href="RIO.html#t:FilePath">FilePath</a>]</li><li class="src short"><a href="#v:preProcess">preProcess</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO.html#t:String">String</a> -&gt; <a href="RIO.html#t:RIO">RIO</a> env <a href="RIO.html#t:FilePath">FilePath</a></li><li class="src short"><a href="#v:readProcessNull">readProcessNull</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO.html#t:String">String</a> -&gt; [<a href="RIO.html#t:String">String</a>] -&gt; <a href="RIO.html#t:RIO">RIO</a> env ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:ReadProcessException">ReadProcessException</a><ul class="subs"><li>= <a href="#v:NoPathFound">NoPathFound</a></li><li>| <a href="#v:ExecutableNotFound">ExecutableNotFound</a> <a href="RIO.html#t:String">String</a> [<a href="RIO.html#t:FilePath">FilePath</a>]</li><li>| <a href="#v:ExecutableNotFoundAt">ExecutableNotFoundAt</a> <a href="RIO.html#t:FilePath">FilePath</a></li></ul></li><li class="src short"><a href="#v:augmentPath">augmentPath</a> :: <a href="RIO.html#t:MonadThrow">MonadThrow</a> m =&gt; [<a href="RIO.html#t:FilePath">FilePath</a>] -&gt; <a href="RIO.html#t:Maybe">Maybe</a> <a href="RIO.html#t:Text">Text</a> -&gt; m <a href="RIO.html#t:Text">Text</a></li><li class="src short"><a href="#v:augmentPathMap">augmentPathMap</a> :: <a href="RIO.html#t:MonadThrow">MonadThrow</a> m =&gt; [<a href="RIO.html#t:FilePath">FilePath</a>] -&gt; <a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a> -&gt; m (<a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a>)</li><li class="src short"><a href="#v:resetExeCache">resetExeCache</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; m ()</li><li class="src short"><span class="keyword">class</span> <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env =&gt; <a href="#t:HasEnvOverride">HasEnvOverride</a> env <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><a href="#v:workingDirL">workingDirL</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO.html#t:Lens-39-">Lens'</a> env (<a href="RIO.html#t:Maybe">Maybe</a> <a href="RIO.html#t:FilePath">FilePath</a>)</li><li class="src short"><a href="#v:withProc">withProc</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO.html#t:FilePath">FilePath</a> -&gt; [<a href="RIO.html#t:String">String</a>] -&gt; (<a href="../typed-process-0.2.1.0/System-Process-Typed.html#t:ProcessConfig">ProcessConfig</a> () () () -&gt; <a href="RIO.html#t:RIO">RIO</a> env a) -&gt; <a href="RIO.html#t:RIO">RIO</a> env a</li><li class="src short"><a href="#v:withEnvOverride">withEnvOverride</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; <a href="RIO.html#t:RIO">RIO</a> env a -&gt; <a href="RIO.html#t:RIO">RIO</a> env a</li><li class="src short"><a href="#v:withModifyEnvOverride">withModifyEnvOverride</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; (<a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a> -&gt; <a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a>) -&gt; <a href="RIO.html#t:RIO">RIO</a> env a -&gt; <a href="RIO.html#t:RIO">RIO</a> env a</li><li class="src short"><a href="#v:withWorkingDir">withWorkingDir</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO.html#t:FilePath">FilePath</a> -&gt; <a href="RIO.html#t:RIO">RIO</a> env a -&gt; <a href="RIO.html#t:RIO">RIO</a> env a</li><li class="src short"><span class="keyword">data</span> <a href="#t:EnvWithLogFunc">EnvWithLogFunc</a></li><li class="src short"><a href="#v:runEnvNoLogging">runEnvNoLogging</a> :: <a href="RIO.html#t:RIO">RIO</a> <a href="RIO-Process.html#t:EnvWithLogFunc">EnvWithLogFunc</a> a -&gt; <a href="RIO.html#t:IO">IO</a> a</li><li class="src short"><a href="#v:withProcessTimeLog">withProcessTimeLog</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO.html#t:Maybe">Maybe</a> <a href="RIO.html#t:FilePath">FilePath</a> -&gt; <a href="RIO.html#t:String">String</a> -&gt; [<a href="RIO.html#t:String">String</a>] -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:showProcessArgDebug">showProcessArgDebug</a> :: <a href="RIO.html#t:String">String</a> -&gt; <a href="RIO.html#t:Text">Text</a></li><li class="src short"><a href="#v:exec">exec</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO.html#t:String">String</a> -&gt; [<a href="RIO.html#t:String">String</a>] -&gt; <a href="RIO.html#t:RIO">RIO</a> env b</li><li class="src short"><a href="#v:execSpawn">execSpawn</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO.html#t:String">String</a> -&gt; [<a href="RIO.html#t:String">String</a>] -&gt; <a href="RIO.html#t:RIO">RIO</a> env a</li><li class="src short"><a href="#v:execObserve">execObserve</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO.html#t:String">String</a> -&gt; [<a href="RIO.html#t:String">String</a>] -&gt; <a href="RIO.html#t:RIO">RIO</a> env <a href="RIO.html#t:String">String</a></li><li class="src short">module <a href="../typed-process-0.2.1.0/System-Process-Typed.html">System.Process.Typed</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:withProcess" class="def">withProcess</a> :: <a href="../unliftio-core-0.1.1.0/Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; <a href="../typed-process-0.2.1.0/System-Process-Typed.html#t:ProcessConfig">ProcessConfig</a> stdin stdout stderr -&gt; (<a href="../typed-process-0.2.1.0/System-Process-Typed.html#t:Process">Process</a> stdin stdout stderr -&gt; m a) -&gt; m a <a href="src/RIO.Process.html#withProcess" class="link">Source</a> <a href="#v:withProcess" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="../typed-process-0.2.1.0/System-Process-Typed.html#v:withProcess">withProcess</a></code>, but generalized to <code><a href="../unliftio-core-0.1.1.0/Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:withProcess_" class="def">withProcess_</a> :: <a href="../unliftio-core-0.1.1.0/Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; <a href="../typed-process-0.2.1.0/System-Process-Typed.html#t:ProcessConfig">ProcessConfig</a> stdin stdout stderr -&gt; (<a href="../typed-process-0.2.1.0/System-Process-Typed.html#t:Process">Process</a> stdin stdout stderr -&gt; m a) -&gt; m a <a href="src/RIO.Process.html#withProcess_" class="link">Source</a> <a href="#v:withProcess_" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="../typed-process-0.2.1.0/System-Process-Typed.html#v:withProcess_">withProcess_</a></code>, but generalized to <code><a href="../unliftio-core-0.1.1.0/Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EnvOverride" class="def">EnvOverride</a> <a href="src/RIO.Process.html#EnvOverride" class="link">Source</a> <a href="#t:EnvOverride" class="selflink">#</a></p><div class="doc"><p>Override the environment received by a child process.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EnvOverride" class="def">EnvOverride</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:eoTextMap" class="def">eoTextMap</a> :: <a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a></dfn><div class="doc"><p>Environment variables as map</p></div></li><li><dfn class="src"><a id="v:eoStringList" class="def">eoStringList</a> :: [(<a href="RIO.html#t:String">String</a>, <a href="RIO.html#t:String">String</a>)]</dfn><div class="doc"><p>Environment variables as association list</p></div></li><li><dfn class="src"><a id="v:eoPath" class="def">eoPath</a> :: [<a href="RIO.html#t:FilePath">FilePath</a>]</dfn><div class="doc"><p>List of directories searched for executables (<code>PATH</code>)</p></div></li><li><dfn class="src"><a id="v:eoExeCache" class="def">eoExeCache</a> :: <a href="../base-4.10.1.0/Data-IORef.html#t:IORef">IORef</a> (<a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:FilePath">FilePath</a> (<a href="RIO.html#t:Either">Either</a> <a href="RIO-Process.html#t:ReadProcessException">ReadProcessException</a> <a href="RIO.html#t:FilePath">FilePath</a>))</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:eoExeExtensions" class="def">eoExeExtensions</a> :: [<a href="RIO.html#t:String">String</a>]</dfn><div class="doc"><p><code>[&quot;&quot;]</code> on non-Windows systems, <code>[&quot;&quot;, &quot;.exe&quot;, &quot;.bat&quot;]</code> on Windows</p></div></li><li><dfn class="src"><a id="v:eoWorkingDir" class="def">eoWorkingDir</a> :: !(<a href="RIO.html#t:Maybe">Maybe</a> <a href="RIO.html#t:FilePath">FilePath</a>)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:unEnvOverride" class="def">unEnvOverride</a> :: <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; <a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a> <a href="src/RIO.Process.html#unEnvOverride" class="link">Source</a> <a href="#v:unEnvOverride" class="selflink">#</a></p><div class="doc"><p>Get the environment variables from an <code><a href="RIO-Process.html#t:EnvOverride">EnvOverride</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:mkEnvOverride" class="def">mkEnvOverride</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a> -&gt; m <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> <a href="src/RIO.Process.html#mkEnvOverride" class="link">Source</a> <a href="#v:mkEnvOverride" class="selflink">#</a></p><div class="doc"><p>Create a new <code><a href="RIO-Process.html#t:EnvOverride">EnvOverride</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:modifyEnvOverride" class="def">modifyEnvOverride</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; (<a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a> -&gt; <a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a>) -&gt; m <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> <a href="src/RIO.Process.html#modifyEnvOverride" class="link">Source</a> <a href="#v:modifyEnvOverride" class="selflink">#</a></p><div class="doc"><p>Modify the environment variables of an <code><a href="RIO-Process.html#t:EnvOverride">EnvOverride</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:envHelper" class="def">envHelper</a> :: <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; [(<a href="RIO.html#t:String">String</a>, <a href="RIO.html#t:String">String</a>)] <a href="src/RIO.Process.html#envHelper" class="link">Source</a> <a href="#v:envHelper" class="selflink">#</a></p><div class="doc"><p>Helper conversion function.</p></div></div><div class="top"><p class="src"><a id="v:doesExecutableExist" class="def">doesExecutableExist</a> <a href="src/RIO.Process.html#doesExecutableExist" class="link">Source</a> <a href="#v:doesExecutableExist" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a></td><td class="doc"><p>How to override environment</p></td></tr><tr><td class="src">-&gt; <a href="RIO.html#t:String">String</a></td><td class="doc"><p>Name of executable</p></td></tr><tr><td class="src">-&gt; m <a href="RIO.html#t:Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Check if the given executable exists on the given PATH.</p></div></div><div class="top"><p class="src"><a id="v:findExecutable" class="def">findExecutable</a> <a href="src/RIO.Process.html#findExecutable" class="link">Source</a> <a href="#v:findExecutable" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadThrow">MonadThrow</a> n)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a></td><td class="doc"><p>How to override environment</p></td></tr><tr><td class="src">-&gt; <a href="RIO.html#t:String">String</a></td><td class="doc"><p>Name of executable</p></td></tr><tr><td class="src">-&gt; m (n <a href="RIO.html#t:FilePath">FilePath</a>)</td><td class="doc"><p>Full path to that executable on success</p></td></tr></table></div><div class="doc"><p>Find the complete path for the executable.</p><p>Throws a <code><a href="RIO-Process.html#t:ReadProcessException">ReadProcessException</a></code> if unsuccessful.</p></div></div><div class="top"><p class="src"><a id="v:getEnvOverride" class="def">getEnvOverride</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; m <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> <a href="src/RIO.Process.html#getEnvOverride" class="link">Source</a> <a href="#v:getEnvOverride" class="selflink">#</a></p><div class="doc"><p>Load up an <code><a href="RIO-Process.html#t:EnvOverride">EnvOverride</a></code> from the standard environment.</p></div></div><div class="top"><p class="src"><a id="v:envSearchPath" class="def">envSearchPath</a> :: <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; [<a href="RIO.html#t:FilePath">FilePath</a>] <a href="src/RIO.Process.html#envSearchPath" class="link">Source</a> <a href="#v:envSearchPath" class="selflink">#</a></p><div class="doc"><p>Get the list of directories searched (<code>PATH</code>).</p></div></div><div class="top"><p class="src"><a id="v:preProcess" class="def">preProcess</a> <a href="src/RIO.Process.html#preProcess" class="link">Source</a> <a href="#v:preProcess" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="RIO.html#t:String">String</a></td><td class="doc"><p>Command name</p></td></tr><tr><td class="src">-&gt; <a href="RIO.html#t:RIO">RIO</a> env <a href="RIO.html#t:FilePath">FilePath</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Perform pre-call-process tasks.  Ensure the working directory exists and find the
 executable path.</p><p>Throws a <code><a href="RIO-Process.html#t:ReadProcessException">ReadProcessException</a></code> if unsuccessful.</p></div></div><div class="top"><p class="src"><a id="v:readProcessNull" class="def">readProcessNull</a> <a href="src/RIO.Process.html#readProcessNull" class="link">Source</a> <a href="#v:readProcessNull" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="RIO.html#t:String">String</a></td><td class="doc"><p>Command</p></td></tr><tr><td class="src">-&gt; [<a href="RIO.html#t:String">String</a>]</td><td class="doc"><p>Command line arguments</p></td></tr><tr><td class="src">-&gt; <a href="RIO.html#t:RIO">RIO</a> env ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Read from the process, ignoring any output.</p><p>Throws a <code><a href="RIO-Process.html#t:ReadProcessException">ReadProcessException</a></code> exception if the process fails.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ReadProcessException" class="def">ReadProcessException</a> <a href="src/RIO.Process.html#ReadProcessException" class="link">Source</a> <a href="#t:ReadProcessException" class="selflink">#</a></p><div class="doc"><p>An exception while trying to read from process.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoPathFound" class="def">NoPathFound</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ExecutableNotFound" class="def">ExecutableNotFound</a> <a href="RIO.html#t:String">String</a> [<a href="RIO.html#t:FilePath">FilePath</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ExecutableNotFoundAt" class="def">ExecutableNotFoundAt</a> <a href="RIO.html#t:FilePath">FilePath</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ReadProcessException" class="caption collapser" onclick="toggleSection('i:ReadProcessException')">Instances</p><div id="section.i:ReadProcessException" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ReadProcessException:Show:1" class="instance expander" onclick="toggleSection('i:id:ReadProcessException:Show:1')"></span> <a href="RIO.html#t:Show">Show</a> <a href="RIO-Process.html#t:ReadProcessException">ReadProcessException</a></span> <a href="src/RIO.Process.html#line-163" class="link">Source</a> <a href="#t:ReadProcessException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ReadProcessException:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="RIO.html#t:Int">Int</a> -&gt; <a href="RIO-Process.html#t:ReadProcessException">ReadProcessException</a> -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="RIO-Process.html#t:ReadProcessException">ReadProcessException</a> -&gt; <a href="RIO.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="RIO-Process.html#t:ReadProcessException">ReadProcessException</a>] -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ReadProcessException:Exception:2" class="instance expander" onclick="toggleSection('i:id:ReadProcessException:Exception:2')"></span> <a href="../base-4.10.1.0/Control-Exception-Base.html#t:Exception">Exception</a> <a href="RIO-Process.html#t:ReadProcessException">ReadProcessException</a></span> <a href="src/RIO.Process.html#line-173" class="link">Source</a> <a href="#t:ReadProcessException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ReadProcessException:Exception:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="RIO-Process.html#t:ReadProcessException">ReadProcessException</a> -&gt; <a href="../base-4.10.1.0/Control-Exception-Base.html#t:SomeException">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="../base-4.10.1.0/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="RIO.html#t:Maybe">Maybe</a> <a href="RIO-Process.html#t:ReadProcessException">ReadProcessException</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="RIO-Process.html#t:ReadProcessException">ReadProcessException</a> -&gt; <a href="RIO.html#t:String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:augmentPath" class="def">augmentPath</a> :: <a href="RIO.html#t:MonadThrow">MonadThrow</a> m =&gt; [<a href="RIO.html#t:FilePath">FilePath</a>] -&gt; <a href="RIO.html#t:Maybe">Maybe</a> <a href="RIO.html#t:Text">Text</a> -&gt; m <a href="RIO.html#t:Text">Text</a> <a href="src/RIO.Process.html#augmentPath" class="link">Source</a> <a href="#v:augmentPath" class="selflink">#</a></p><div class="doc"><p>Augment the PATH environment variable with the given extra paths.</p></div></div><div class="top"><p class="src"><a id="v:augmentPathMap" class="def">augmentPathMap</a> :: <a href="RIO.html#t:MonadThrow">MonadThrow</a> m =&gt; [<a href="RIO.html#t:FilePath">FilePath</a>] -&gt; <a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a> -&gt; m (<a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a>) <a href="src/RIO.Process.html#augmentPathMap" class="link">Source</a> <a href="#v:augmentPathMap" class="selflink">#</a></p><div class="doc"><p>Apply <code><a href="RIO-Process.html#v:augmentPath">augmentPath</a></code> on the PATH value in the given Map.</p></div></div><div class="top"><p class="src"><a id="v:resetExeCache" class="def">resetExeCache</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; m () <a href="src/RIO.Process.html#resetExeCache" class="link">Source</a> <a href="#v:resetExeCache" class="selflink">#</a></p><div class="doc"><p>Reset the executable cache.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env =&gt; <a id="t:HasEnvOverride" class="def">HasEnvOverride</a> env <span class="keyword">where</span> <a href="src/RIO.Process.html#HasEnvOverride" class="link">Source</a> <a href="#t:HasEnvOverride" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="RIO-Process.html#v:envOverrideL">envOverrideL</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:envOverrideL" class="def">envOverrideL</a> :: <a href="RIO.html#t:Lens-39-">Lens'</a> env <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> <a href="src/RIO.Process.html#envOverrideL" class="link">Source</a> <a href="#v:envOverrideL" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:HasEnvOverride" class="caption collapser" onclick="toggleSection('i:HasEnvOverride')">Instances</p><div id="section.i:HasEnvOverride" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:HasEnvOverride:HasEnvOverride:1" class="instance expander" onclick="toggleSection('i:ic:HasEnvOverride:HasEnvOverride:1')"></span> <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> <a href="RIO-Process.html#t:EnvWithLogFunc">EnvWithLogFunc</a></span> <a href="src/RIO.Process.html#line-328" class="link">Source</a> <a href="#t:HasEnvOverride" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:HasEnvOverride:HasEnvOverride:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:envOverrideL">envOverrideL</a> :: <a href="RIO.html#t:Lens-39-">Lens'</a> <a href="RIO-Process.html#t:EnvWithLogFunc">EnvWithLogFunc</a> <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> <a href="src/RIO.Process.html#envOverrideL" class="link">Source</a> <a href="#v:envOverrideL" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:workingDirL" class="def">workingDirL</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO.html#t:Lens-39-">Lens'</a> env (<a href="RIO.html#t:Maybe">Maybe</a> <a href="RIO.html#t:FilePath">FilePath</a>) <a href="src/RIO.Process.html#workingDirL" class="link">Source</a> <a href="#v:workingDirL" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withProc" class="def">withProc</a> <a href="src/RIO.Process.html#withProc" class="link">Source</a> <a href="#v:withProc" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="RIO.html#t:FilePath">FilePath</a></td><td class="doc"><p>command to run</p></td></tr><tr><td class="src">-&gt; [<a href="RIO.html#t:String">String</a>]</td><td class="doc"><p>command line arguments</p></td></tr><tr><td class="src">-&gt; (<a href="../typed-process-0.2.1.0/System-Process-Typed.html#t:ProcessConfig">ProcessConfig</a> () () () -&gt; <a href="RIO.html#t:RIO">RIO</a> env a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="RIO.html#t:RIO">RIO</a> env a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Provide a <code><a href="../typed-process-0.2.1.0/System-Process-Typed.html#t:ProcessConfig">ProcessConfig</a></code> based on the <code><a href="RIO-Process.html#t:EnvOverride">EnvOverride</a></code> in
 scope. Deals with resolving the full path, setting the child
 process's environment variables, setting the working directory, and
 wrapping the call with <code><a href="RIO-Process.html#v:withProcessTimeLog">withProcessTimeLog</a></code> for debugging output.</p></div></div><div class="top"><p class="src"><a id="v:withEnvOverride" class="def">withEnvOverride</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> -&gt; <a href="RIO.html#t:RIO">RIO</a> env a -&gt; <a href="RIO.html#t:RIO">RIO</a> env a <a href="src/RIO.Process.html#withEnvOverride" class="link">Source</a> <a href="#v:withEnvOverride" class="selflink">#</a></p><div class="doc"><p>Set a new <code><a href="RIO-Process.html#t:EnvOverride">EnvOverride</a></code> in the child reader. Note that this will
 keep the working directory set in the parent with <code><a href="RIO-Process.html#v:withWorkingDir">withWorkingDir</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:withModifyEnvOverride" class="def">withModifyEnvOverride</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; (<a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a> -&gt; <a href="RIO.html#t:Map">Map</a> <a href="RIO.html#t:Text">Text</a> <a href="RIO.html#t:Text">Text</a>) -&gt; <a href="RIO.html#t:RIO">RIO</a> env a -&gt; <a href="RIO.html#t:RIO">RIO</a> env a <a href="src/RIO.Process.html#withModifyEnvOverride" class="link">Source</a> <a href="#v:withModifyEnvOverride" class="selflink">#</a></p><div class="doc"><p>Apply the given function to the modified environment
 variables. For more details, see <code><a href="RIO-Process.html#v:withEnvOverride">withEnvOverride</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:withWorkingDir" class="def">withWorkingDir</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO.html#t:FilePath">FilePath</a> -&gt; <a href="RIO.html#t:RIO">RIO</a> env a -&gt; <a href="RIO.html#t:RIO">RIO</a> env a <a href="src/RIO.Process.html#withWorkingDir" class="link">Source</a> <a href="#v:withWorkingDir" class="selflink">#</a></p><div class="doc"><p>Set the working directory to be used by child processes.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EnvWithLogFunc" class="def">EnvWithLogFunc</a> <a href="src/RIO.Process.html#EnvWithLogFunc" class="link">Source</a> <a href="#t:EnvWithLogFunc" class="selflink">#</a></p><div class="subs instances"><p id="control.i:EnvWithLogFunc" class="caption collapser" onclick="toggleSection('i:EnvWithLogFunc')">Instances</p><div id="section.i:EnvWithLogFunc" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:EnvWithLogFunc:HasLogFunc:1" class="instance expander" onclick="toggleSection('i:id:EnvWithLogFunc:HasLogFunc:1')"></span> <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> <a href="RIO-Process.html#t:EnvWithLogFunc">EnvWithLogFunc</a></span> <a href="src/RIO.Process.html#line-326" class="link">Source</a> <a href="#t:EnvWithLogFunc" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:EnvWithLogFunc:HasLogFunc:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:logFuncL">logFuncL</a> :: <a href="RIO.html#t:Lens-39-">Lens'</a> <a href="RIO-Process.html#t:EnvWithLogFunc">EnvWithLogFunc</a> <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="src/RIO.Logger.html#logFuncL" class="link">Source</a> <a href="#v:logFuncL" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:EnvWithLogFunc:HasEnvOverride:2" class="instance expander" onclick="toggleSection('i:id:EnvWithLogFunc:HasEnvOverride:2')"></span> <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> <a href="RIO-Process.html#t:EnvWithLogFunc">EnvWithLogFunc</a></span> <a href="src/RIO.Process.html#line-328" class="link">Source</a> <a href="#t:EnvWithLogFunc" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:EnvWithLogFunc:HasEnvOverride:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:envOverrideL">envOverrideL</a> :: <a href="RIO.html#t:Lens-39-">Lens'</a> <a href="RIO-Process.html#t:EnvWithLogFunc">EnvWithLogFunc</a> <a href="RIO-Process.html#t:EnvOverride">EnvOverride</a> <a href="src/RIO.Process.html#envOverrideL" class="link">Source</a> <a href="#v:envOverrideL" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:runEnvNoLogging" class="def">runEnvNoLogging</a> :: <a href="RIO.html#t:RIO">RIO</a> <a href="RIO-Process.html#t:EnvWithLogFunc">EnvWithLogFunc</a> a -&gt; <a href="RIO.html#t:IO">IO</a> a <a href="src/RIO.Process.html#runEnvNoLogging" class="link">Source</a> <a href="#v:runEnvNoLogging" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withProcessTimeLog" class="def">withProcessTimeLog</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO.html#t:Maybe">Maybe</a> <a href="RIO.html#t:FilePath">FilePath</a> -&gt; <a href="RIO.html#t:String">String</a> -&gt; [<a href="RIO.html#t:String">String</a>] -&gt; m a -&gt; m a <a href="src/RIO.Process.html#withProcessTimeLog" class="link">Source</a> <a href="#v:withProcessTimeLog" class="selflink">#</a></p><div class="doc"><p>Log running a process with its arguments, for debugging (-v).</p><p>This logs one message before running the process and one message after.</p></div></div><div class="top"><p class="src"><a id="v:showProcessArgDebug" class="def">showProcessArgDebug</a> :: <a href="RIO.html#t:String">String</a> -&gt; <a href="RIO.html#t:Text">Text</a> <a href="src/RIO.Process.html#showProcessArgDebug" class="link">Source</a> <a href="#v:showProcessArgDebug" class="selflink">#</a></p><div class="doc"><p>Show a process arg including speechmarks when necessary. Just for
 debugging purposes, not functionally important.</p></div></div><div class="top"><p class="src"><a id="v:exec" class="def">exec</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO.html#t:String">String</a> -&gt; [<a href="RIO.html#t:String">String</a>] -&gt; <a href="RIO.html#t:RIO">RIO</a> env b <a href="src/RIO.Process.html#exec" class="link">Source</a> <a href="#v:exec" class="selflink">#</a></p><div class="doc"><p>Execute a process within the Stack configured environment.</p><p>Execution will not return, because either:</p><p>1) On non-windows, execution is taken over by execv of the
 sub-process. This allows signals to be propagated (#527)</p><p>2) On windows, an <code><a href="RIO.html#t:ExitCode">ExitCode</a></code> exception will be thrown.</p></div></div><div class="top"><p class="src"><a id="v:execSpawn" class="def">execSpawn</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO.html#t:String">String</a> -&gt; [<a href="RIO.html#t:String">String</a>] -&gt; <a href="RIO.html#t:RIO">RIO</a> env a <a href="src/RIO.Process.html#execSpawn" class="link">Source</a> <a href="#v:execSpawn" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="RIO-Process.html#v:exec">exec</a></code>, but does not use <code>execv</code> on non-windows. This way, there
 is a sub-process, which is helpful in some cases (#1306)</p><p>This function only exits by throwing <code><a href="RIO.html#t:ExitCode">ExitCode</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:execObserve" class="def">execObserve</a> :: <a href="RIO-Process.html#t:HasEnvOverride">HasEnvOverride</a> env =&gt; <a href="RIO.html#t:String">String</a> -&gt; [<a href="RIO.html#t:String">String</a>] -&gt; <a href="RIO.html#t:RIO">RIO</a> env <a href="RIO.html#t:String">String</a> <a href="src/RIO.Process.html#execObserve" class="link">Source</a> <a href="#v:execObserve" class="selflink">#</a></p></div><div class="top"><p class="src">module <a href="../typed-process-0.2.1.0/System-Process-Typed.html">System.Process.Typed</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>