<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>RIO.Logger</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/RIO.Logger.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">rio-0.0.2.0: A standard library for Haskell</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">RIO.Logger</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Standard logging functions</a></li><li><a href="#g:2">Running with logging</a><ul><li><a href="#g:3">Log options</a></li></ul></li><li><a href="#g:4">Advanced logging functions</a><ul><li><a href="#g:5">Sticky logging</a></li><li><a href="#g:6">With source</a></li><li><a href="#g:7">Generic log function</a></li></ul></li><li><a href="#g:8">Advanced running functions</a></li><li><a href="#g:9">Data types</a></li><li><a href="#g:10">Convenience functions</a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:logDebug">logDebug</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m ()</li><li class="src short"><a href="#v:logInfo">logInfo</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m ()</li><li class="src short"><a href="#v:logWarn">logWarn</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m ()</li><li class="src short"><a href="#v:logError">logError</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m ()</li><li class="src short"><a href="#v:logOther">logOther</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO.html#t:Text">Text</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m ()</li><li class="src short"><a href="#v:withLogFunc">withLogFunc</a> :: <a href="../unliftio-core-0.1.1.0/Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> -&gt; (<a href="RIO-Logger.html#t:LogFunc">LogFunc</a> -&gt; m a) -&gt; m a</li><li class="src short"><span class="keyword">data</span> <a href="#t:LogFunc">LogFunc</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:HasLogFunc">HasLogFunc</a> env <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><a href="#v:logOptionsHandle">logOptionsHandle</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="../base-4.10.1.0/GHC-IO-Handle.html#t:Handle">Handle</a> -&gt; <a href="RIO.html#t:Bool">Bool</a> -&gt; m <a href="RIO-Logger.html#t:LogOptions">LogOptions</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:LogOptions">LogOptions</a></li><li class="src short"><a href="#v:setLogMinLevel">setLogMinLevel</a> :: <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a></li><li class="src short"><a href="#v:setLogVerboseFormat">setLogVerboseFormat</a> :: <a href="RIO.html#t:Bool">Bool</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a></li><li class="src short"><a href="#v:setLogTerminal">setLogTerminal</a> :: <a href="RIO.html#t:Bool">Bool</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a></li><li class="src short"><a href="#v:setLogUseTime">setLogUseTime</a> :: <a href="RIO.html#t:Bool">Bool</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a></li><li class="src short"><a href="#v:setLogUseColor">setLogUseColor</a> :: <a href="RIO.html#t:Bool">Bool</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a></li><li class="src short"><a href="#v:logSticky">logSticky</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:HasCallStack">HasCallStack</a>, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env) =&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m ()</li><li class="src short"><a href="#v:logStickyDone">logStickyDone</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:HasCallStack">HasCallStack</a>, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env) =&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m ()</li><li class="src short"><a href="#v:logDebugS">logDebugS</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m ()</li><li class="src short"><a href="#v:logInfoS">logInfoS</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m ()</li><li class="src short"><a href="#v:logWarnS">logWarnS</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m ()</li><li class="src short"><a href="#v:logErrorS">logErrorS</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m ()</li><li class="src short"><a href="#v:logOtherS">logOtherS</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO.html#t:Text">Text</a> -&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m ()</li><li class="src short"><a href="#v:logGeneric">logGeneric</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m ()</li><li class="src short"><a href="#v:mkLogFunc">mkLogFunc</a> :: (<a href="RIO-Logger.html#t:CallStack">CallStack</a> -&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; <a href="RIO.html#t:IO">IO</a> ()) -&gt; <a href="RIO-Logger.html#t:LogFunc">LogFunc</a></li><li class="src short"><a href="#v:logOptionsMemory">logOptionsMemory</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; m (<a href="../base-4.10.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="RIO.html#t:Builder">Builder</a>, <a href="RIO-Logger.html#t:LogOptions">LogOptions</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:LogLevel">LogLevel</a><ul class="subs"><li>= <a href="#v:LevelDebug">LevelDebug</a></li><li>| <a href="#v:LevelInfo">LevelInfo</a></li><li>| <a href="#v:LevelWarn">LevelWarn</a></li><li>| <a href="#v:LevelError">LevelError</a></li><li>| <a href="#v:LevelOther">LevelOther</a> !<a href="RIO.html#t:Text">Text</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:LogSource">LogSource</a> = <a href="RIO.html#t:Text">Text</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:CallStack">CallStack</a> :: <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a></li><li class="src short"><a href="#v:displayCallStack">displayCallStack</a> :: <a href="RIO-Logger.html#t:CallStack">CallStack</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a></li></ul></div><div id="interface"><h1 id="g:1">Standard logging functions</h1><div class="top"><p class="src"><a id="v:logDebug" class="def">logDebug</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m () <a href="src/RIO.Logger.html#logDebug" class="link">Source</a> <a href="#v:logDebug" class="selflink">#</a></p><div class="doc"><p>Log a debug level message with no source.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:logInfo" class="def">logInfo</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m () <a href="src/RIO.Logger.html#logInfo" class="link">Source</a> <a href="#v:logInfo" class="selflink">#</a></p><div class="doc"><p>Log an info level message with no source.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:logWarn" class="def">logWarn</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m () <a href="src/RIO.Logger.html#logWarn" class="link">Source</a> <a href="#v:logWarn" class="selflink">#</a></p><div class="doc"><p>Log a warn level message with no source.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:logError" class="def">logError</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m () <a href="src/RIO.Logger.html#logError" class="link">Source</a> <a href="#v:logError" class="selflink">#</a></p><div class="doc"><p>Log an error level message with no source.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:logOther" class="def">logOther</a> <a href="src/RIO.Logger.html#logOther" class="link">Source</a> <a href="#v:logOther" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="RIO.html#t:Text">Text</a></td><td class="doc"><p>level</p></td></tr><tr><td class="src">-&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Log a message with the specified textual level and no source.</p><p><em>Since: 0.0.0.0</em></p></div></div><h1 id="g:2">Running with logging</h1><div class="top"><p class="src"><a id="v:withLogFunc" class="def">withLogFunc</a> :: <a href="../unliftio-core-0.1.1.0/Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> -&gt; (<a href="RIO-Logger.html#t:LogFunc">LogFunc</a> -&gt; m a) -&gt; m a <a href="src/RIO.Logger.html#withLogFunc" class="link">Source</a> <a href="#v:withLogFunc" class="selflink">#</a></p><div class="doc"><p>Given a <code><a href="RIO-Logger.html#t:LogOptions">LogOptions</a></code> value, run the given function with the
 specified <code><a href="RIO-Logger.html#t:LogFunc">LogFunc</a></code>. A common way to use this function is:</p><pre>let isVerbose = False -- get from the command line instead
logOptions' &lt;- logOptionsHandle stderr isVerbose
let logOptions = setLogUseTime True logOptions'
withLogFunc logOptions $ lf -&gt; do
  let app = App -- application specific environment
        { appLogFunc = lf
        , appOtherStuff = ...
        }
  runRIO app $ do
    logInfo &quot;Starting app&quot;
    myApp
</pre><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LogFunc" class="def">LogFunc</a> <a href="src/RIO.Logger.html#LogFunc" class="link">Source</a> <a href="#t:LogFunc" class="selflink">#</a></p><div class="doc"><p>A logging function, wrapped in a newtype for better error messages.</p><p>An implementation may choose any behavior of this value it wishes,
 including printing to standard output or no action at all.</p><p><em>Since: 0.0.0.0</em></p></div><div class="subs instances"><p id="control.i:LogFunc" class="caption collapser" onclick="toggleSection('i:LogFunc')">Instances</p><div id="section.i:LogFunc" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:LogFunc:Semigroup:1" class="instance expander" onclick="toggleSection('i:id:LogFunc:Semigroup:1')"></span> <a href="RIO.html#t:Semigroup">Semigroup</a> <a href="RIO-Logger.html#t:LogFunc">LogFunc</a></span> <a href="src/RIO.Logger.html#line-96" class="link">Source</a> <a href="#t:LogFunc" class="selflink">#</a></td><td class="doc"><p>Perform both sets of actions per log entry.</p><p><em>Since: 0.0.0.0</em></p></td></tr><tr><td colspan="2"><div id="section.i:id:LogFunc:Semigroup:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> -&gt; <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> -&gt; <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../base-4.10.1.0/Data-List-NonEmpty.html#t:NonEmpty">NonEmpty</a> <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> -&gt; <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="RIO.html#t:Integral">Integral</a> b =&gt; b -&gt; <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> -&gt; <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="#v:stimes" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:LogFunc:Monoid:2" class="instance expander" onclick="toggleSection('i:id:LogFunc:Monoid:2')"></span> <a href="RIO.html#t:Monoid">Monoid</a> <a href="RIO-Logger.html#t:LogFunc">LogFunc</a></span> <a href="src/RIO.Logger.html#line-102" class="link">Source</a> <a href="#t:LogFunc" class="selflink">#</a></td><td class="doc"><p><code><a href="RIO.html#v:mempty">mempty</a></code> peforms no logging.</p><p><em>Since: 0.0.0.0</em></p></td></tr><tr><td colspan="2"><div id="section.i:id:LogFunc:Monoid:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> -&gt; <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> -&gt; <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="RIO-Logger.html#t:LogFunc">LogFunc</a>] -&gt; <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="#v:mconcat" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:LogFunc:HasLogFunc:3" class="instance expander" onclick="toggleSection('i:id:LogFunc:HasLogFunc:3')"></span> <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> <a href="RIO-Logger.html#t:LogFunc">LogFunc</a></span> <a href="src/RIO.Logger.html#line-80" class="link">Source</a> <a href="#t:LogFunc" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:LogFunc:HasLogFunc:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:logFuncL">logFuncL</a> :: <a href="RIO.html#t:Lens-39-">Lens'</a> <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="src/RIO.Logger.html#logFuncL" class="link">Source</a> <a href="#v:logFuncL" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasLogFunc" class="def">HasLogFunc</a> env <span class="keyword">where</span> <a href="src/RIO.Logger.html#HasLogFunc" class="link">Source</a> <a href="#t:HasLogFunc" class="selflink">#</a></p><div class="doc"><p>Environment values with a logging function.</p><p><em>Since: 0.0.0.0</em></p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="RIO-Logger.html#v:logFuncL">logFuncL</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:logFuncL" class="def">logFuncL</a> :: <a href="RIO.html#t:Lens-39-">Lens'</a> env <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="src/RIO.Logger.html#logFuncL" class="link">Source</a> <a href="#v:logFuncL" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:HasLogFunc" class="caption collapser" onclick="toggleSection('i:HasLogFunc')">Instances</p><div id="section.i:HasLogFunc" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:HasLogFunc:HasLogFunc:1" class="instance expander" onclick="toggleSection('i:ic:HasLogFunc:HasLogFunc:1')"></span> <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> <a href="RIO-Logger.html#t:LogFunc">LogFunc</a></span> <a href="src/RIO.Logger.html#line-80" class="link">Source</a> <a href="#t:HasLogFunc" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:HasLogFunc:HasLogFunc:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:logFuncL">logFuncL</a> :: <a href="RIO.html#t:Lens-39-">Lens'</a> <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="src/RIO.Logger.html#logFuncL" class="link">Source</a> <a href="#v:logFuncL" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:HasLogFunc:HasLogFunc:2" class="instance expander" onclick="toggleSection('i:ic:HasLogFunc:HasLogFunc:2')"></span> <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> <a href="RIO-Process.html#t:EnvWithLogFunc">EnvWithLogFunc</a></span> <a href="src/RIO.Logger.html#line-326" class="link">Source</a> <a href="#t:HasLogFunc" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:HasLogFunc:HasLogFunc:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:logFuncL">logFuncL</a> :: <a href="RIO.html#t:Lens-39-">Lens'</a> <a href="RIO-Process.html#t:EnvWithLogFunc">EnvWithLogFunc</a> <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="src/RIO.Logger.html#logFuncL" class="link">Source</a> <a href="#v:logFuncL" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:logOptionsHandle" class="def">logOptionsHandle</a> <a href="src/RIO.Logger.html#logOptionsHandle" class="link">Source</a> <a href="#v:logOptionsHandle" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.10.1.0/GHC-IO-Handle.html#t:Handle">Handle</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="RIO.html#t:Bool">Bool</a></td><td class="doc"><p>verbose?</p></td></tr><tr><td class="src">-&gt; m <a href="RIO-Logger.html#t:LogOptions">LogOptions</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create a <code><a href="RIO-Logger.html#t:LogOptions">LogOptions</a></code> value from the given <code><a href="../base-4.10.1.0/GHC-IO-Handle.html#t:Handle">Handle</a></code> and whether
 to perform verbose logging or not. Individiual settings can be
 overridden using appropriate <code>set</code> functions.</p><p><em>Since: 0.0.0.0</em></p></div></div><h2 id="g:3">Log options</h2><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LogOptions" class="def">LogOptions</a> <a href="src/RIO.Logger.html#LogOptions" class="link">Source</a> <a href="#t:LogOptions" class="selflink">#</a></p><div class="doc"><p>Configuration for how to create a <code><a href="RIO-Logger.html#t:LogFunc">LogFunc</a></code>. Intended to be used
 with the <code><a href="RIO-Logger.html#v:withLogFunc">withLogFunc</a></code> function.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:setLogMinLevel" class="def">setLogMinLevel</a> :: <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> <a href="src/RIO.Logger.html#setLogMinLevel" class="link">Source</a> <a href="#v:setLogMinLevel" class="selflink">#</a></p><div class="doc"><p>Set the minimum log level. Messages below this level will not be
 printed.</p><p>Default: in verbose mode, <code><a href="RIO-Logger.html#v:LevelDebug">LevelDebug</a></code>. Otherwise, <code><a href="RIO-Logger.html#v:LevelInfo">LevelInfo</a></code>.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:setLogVerboseFormat" class="def">setLogVerboseFormat</a> :: <a href="RIO.html#t:Bool">Bool</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> <a href="src/RIO.Logger.html#setLogVerboseFormat" class="link">Source</a> <a href="#v:setLogVerboseFormat" class="selflink">#</a></p><div class="doc"><p>Use the verbose format for printing log messages.</p><p>Default: follows the value of the verbose flag.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:setLogTerminal" class="def">setLogTerminal</a> :: <a href="RIO.html#t:Bool">Bool</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> <a href="src/RIO.Logger.html#setLogTerminal" class="link">Source</a> <a href="#v:setLogTerminal" class="selflink">#</a></p><div class="doc"><p>Do we treat output as a terminal. If <code>True</code>, we will enabled
 sticky logging functionality.</p><p>Default: checks if the <code>Handle</code> provided to <code><a href="RIO-Logger.html#v:logOptionsHandle">logOptionsHandle</a></code> is a
 terminal with <code><a href="../unliftio-0.2.4.0/UnliftIO-IO.html#v:hIsTerminalDevice">hIsTerminalDevice</a></code>.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:setLogUseTime" class="def">setLogUseTime</a> :: <a href="RIO.html#t:Bool">Bool</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> <a href="src/RIO.Logger.html#setLogUseTime" class="link">Source</a> <a href="#v:setLogUseTime" class="selflink">#</a></p><div class="doc"><p>Include the time when printing log messages.</p><p>Default: true in debug mode, false otherwise.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:setLogUseColor" class="def">setLogUseColor</a> :: <a href="RIO.html#t:Bool">Bool</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> -&gt; <a href="RIO-Logger.html#t:LogOptions">LogOptions</a> <a href="src/RIO.Logger.html#setLogUseColor" class="link">Source</a> <a href="#v:setLogUseColor" class="selflink">#</a></p><div class="doc"><p>Use ANSI color codes in the log output.</p><p>Default: true if in verbose mode <em>and</em> the <code><a href="../base-4.10.1.0/GHC-IO-Handle.html#t:Handle">Handle</a></code> is a terminal device.</p><p><em>Since: 0.0.0.0</em></p></div></div><h1 id="g:4">Advanced logging functions</h1><h2 id="g:5">Sticky logging</h2><div class="top"><p class="src"><a id="v:logSticky" class="def">logSticky</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:HasCallStack">HasCallStack</a>, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env) =&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m () <a href="src/RIO.Logger.html#logSticky" class="link">Source</a> <a href="#v:logSticky" class="selflink">#</a></p><div class="doc"><p>Write a &quot;sticky&quot; line to the terminal. Any subsequent lines will
 overwrite this one, and that same line will be repeated below
 again. In other words, the line sticks at the bottom of the output
 forever. Running this function again will replace the sticky line
 with a new sticky line. When you want to get rid of the sticky
 line, run <code><a href="RIO-Logger.html#v:logStickyDone">logStickyDone</a></code>.</p><p>Note that not all <code><a href="RIO-Logger.html#t:LogFunc">LogFunc</a></code> implementations will support sticky
 messages as described. However, the <code><a href="RIO-Logger.html#v:withLogFunc">withLogFunc</a></code> implementation
 provided by this module does.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:logStickyDone" class="def">logStickyDone</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:HasCallStack">HasCallStack</a>, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env) =&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m () <a href="src/RIO.Logger.html#logStickyDone" class="link">Source</a> <a href="#v:logStickyDone" class="selflink">#</a></p><div class="doc"><p>This will print out the given message with a newline and disable
 any further stickiness of the line until a new call to <code><a href="RIO-Logger.html#v:logSticky">logSticky</a></code>
 happens.</p><p><em>Since: 0.0.0.0</em></p></div></div><h2 id="g:6">With source</h2><div class="top"><p class="src"><a id="v:logDebugS" class="def">logDebugS</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m () <a href="src/RIO.Logger.html#logDebugS" class="link">Source</a> <a href="#v:logDebugS" class="selflink">#</a></p><div class="doc"><p>Log a debug level message with the given source.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:logInfoS" class="def">logInfoS</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m () <a href="src/RIO.Logger.html#logInfoS" class="link">Source</a> <a href="#v:logInfoS" class="selflink">#</a></p><div class="doc"><p>Log an info level message with the given source.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:logWarnS" class="def">logWarnS</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m () <a href="src/RIO.Logger.html#logWarnS" class="link">Source</a> <a href="#v:logWarnS" class="selflink">#</a></p><div class="doc"><p>Log a warn level message with the given source.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:logErrorS" class="def">logErrorS</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m () <a href="src/RIO.Logger.html#logErrorS" class="link">Source</a> <a href="#v:logErrorS" class="selflink">#</a></p><div class="doc"><p>Log an error level message with the given source.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:logOtherS" class="def">logOtherS</a> <a href="src/RIO.Logger.html#logOtherS" class="link">Source</a> <a href="#v:logOtherS" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="RIO.html#t:Text">Text</a></td><td class="doc"><p>level</p></td></tr><tr><td class="src">-&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Log a message with the specified textual level and the given
 source.</p><p><em>Since: 0.0.0.0</em></p></div></div><h2 id="g:7">Generic log function</h2><div class="top"><p class="src"><a id="v:logGeneric" class="def">logGeneric</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="RIO.html#t:MonadReader">MonadReader</a> env m, <a href="RIO-Logger.html#t:HasLogFunc">HasLogFunc</a> env, <a href="RIO.html#t:HasCallStack">HasCallStack</a>) =&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; m () <a href="src/RIO.Logger.html#logGeneric" class="link">Source</a> <a href="#v:logGeneric" class="selflink">#</a></p><div class="doc"><p>Generic, basic function for creating other logging functions.</p><p><em>Since: 0.0.0.0</em></p></div></div><h1 id="g:8">Advanced running functions</h1><div class="top"><p class="src"><a id="v:mkLogFunc" class="def">mkLogFunc</a> :: (<a href="RIO-Logger.html#t:CallStack">CallStack</a> -&gt; <a href="RIO-Logger.html#t:LogSource">LogSource</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> -&gt; <a href="RIO.html#t:IO">IO</a> ()) -&gt; <a href="RIO-Logger.html#t:LogFunc">LogFunc</a> <a href="src/RIO.Logger.html#mkLogFunc" class="link">Source</a> <a href="#v:mkLogFunc" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="RIO-Logger.html#t:LogFunc">LogFunc</a></code> from the given function.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:logOptionsMemory" class="def">logOptionsMemory</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; m (<a href="../base-4.10.1.0/Data-IORef.html#t:IORef">IORef</a> <a href="RIO.html#t:Builder">Builder</a>, <a href="RIO-Logger.html#t:LogOptions">LogOptions</a>) <a href="src/RIO.Logger.html#logOptionsMemory" class="link">Source</a> <a href="#v:logOptionsMemory" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="RIO-Logger.html#t:LogOptions">LogOptions</a></code> value which will store its data in
 memory. This is primarily intended for testing purposes. This will
 return both a <code><a href="RIO-Logger.html#t:LogOptions">LogOptions</a></code> value and an <code><a href="../base-4.10.1.0/Data-IORef.html#t:IORef">IORef</a></code> containing the
 resulting <code><a href="RIO.html#t:Builder">Builder</a></code> value.</p><p>This will default to non-verbose settings and assume there is a
 terminal attached. These assumptions can be overridden using the
 appropriate <code>set</code> functions.</p><p><em>Since: 0.0.0.0</em></p></div></div><h1 id="g:9">Data types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LogLevel" class="def">LogLevel</a> <a href="src/RIO.Logger.html#LogLevel" class="link">Source</a> <a href="#t:LogLevel" class="selflink">#</a></p><div class="doc"><p>The log level of a message.</p><p><em>Since: 0.0.0.0</em></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LevelDebug" class="def">LevelDebug</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:LevelInfo" class="def">LevelInfo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:LevelWarn" class="def">LevelWarn</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:LevelError" class="def">LevelError</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:LevelOther" class="def">LevelOther</a> !<a href="RIO.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:LogLevel" class="caption collapser" onclick="toggleSection('i:LogLevel')">Instances</p><div id="section.i:LogLevel" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:LogLevel:Eq:1" class="instance expander" onclick="toggleSection('i:id:LogLevel:Eq:1')"></span> <a href="RIO.html#t:Eq">Eq</a> <a href="RIO-Logger.html#t:LogLevel">LogLevel</a></span> <a href="src/RIO.Logger.html#line-67" class="link">Source</a> <a href="#t:LogLevel" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:LogLevel:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:LogLevel:Ord:2" class="instance expander" onclick="toggleSection('i:id:LogLevel:Ord:2')"></span> <a href="RIO.html#t:Ord">Ord</a> <a href="RIO-Logger.html#t:LogLevel">LogLevel</a></span> <a href="src/RIO.Logger.html#line-67" class="link">Source</a> <a href="#t:LogLevel" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:LogLevel:Ord:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO.html#t:Ordering">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO.html#t:Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO.html#t:Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO.html#t:Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO.html#t:Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> <a href="#v:min" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:LogLevel:Read:3" class="instance expander" onclick="toggleSection('i:id:LogLevel:Read:3')"></span> <a href="RIO.html#t:Read">Read</a> <a href="RIO-Logger.html#t:LogLevel">LogLevel</a></span> <a href="src/RIO.Logger.html#line-67" class="link">Source</a> <a href="#t:LogLevel" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:LogLevel:Read:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: <a href="RIO.html#t:Int">Int</a> -&gt; <a href="../base-4.10.1.0/Text-ParserCombinators-ReadP.html#t:ReadS">ReadS</a> <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> <a href="#v:readsPrec" class="selflink">#</a></p><p class="src"><a href="#v:readList">readList</a> :: <a href="../base-4.10.1.0/Text-ParserCombinators-ReadP.html#t:ReadS">ReadS</a> [<a href="RIO-Logger.html#t:LogLevel">LogLevel</a>] <a href="#v:readList" class="selflink">#</a></p><p class="src"><a href="#v:readPrec">readPrec</a> :: <a href="../base-4.10.1.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec">ReadPrec</a> <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> <a href="#v:readPrec" class="selflink">#</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: <a href="../base-4.10.1.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec">ReadPrec</a> [<a href="RIO-Logger.html#t:LogLevel">LogLevel</a>] <a href="#v:readListPrec" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:LogLevel:Show:4" class="instance expander" onclick="toggleSection('i:id:LogLevel:Show:4')"></span> <a href="RIO.html#t:Show">Show</a> <a href="RIO-Logger.html#t:LogLevel">LogLevel</a></span> <a href="src/RIO.Logger.html#line-67" class="link">Source</a> <a href="#t:LogLevel" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:LogLevel:Show:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="RIO.html#t:Int">Int</a> -&gt; <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="RIO-Logger.html#t:LogLevel">LogLevel</a> -&gt; <a href="RIO.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="RIO-Logger.html#t:LogLevel">LogLevel</a>] -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:LogSource" class="def">LogSource</a> = <a href="RIO.html#t:Text">Text</a> <a href="src/RIO.Logger.html#LogSource" class="link">Source</a> <a href="#t:LogSource" class="selflink">#</a></p><div class="doc"><p>Where in the application a log message came from. Used for
 display purposes only.</p><p><em>Since: 0.0.0.0</em></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CallStack" class="def">CallStack</a> :: <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> <a href="#t:CallStack" class="selflink">#</a></p><div class="doc"><p><code><a href="RIO-Logger.html#t:CallStack">CallStack</a></code>s are a lightweight method of obtaining a
 partial call-stack at any point in the program.</p><p>A function can request its call-site with the <code><a href="RIO.html#t:HasCallStack">HasCallStack</a></code> constraint.
 For example, we can define</p><pre>errorWithCallStack :: HasCallStack =&gt; String -&gt; a
</pre><p>as a variant of <code>error</code> that will get its call-site. We can access the
 call-stack inside <code>errorWithCallStack</code> with <code><a href="../base-4.10.1.0/GHC-Stack.html#v:callStack">callStack</a></code>.</p><pre>errorWithCallStack :: HasCallStack =&gt; String -&gt; a
errorWithCallStack msg = error (msg ++ &quot;n&quot; ++ prettyCallStack callStack)
</pre><p>Thus, if we call <code>errorWithCallStack</code> we will get a formatted call-stack
 alongside our error message.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>errorWithCallStack &quot;die&quot;
</code></strong>*** Exception: die
CallStack (from HasCallStack):
  errorWithCallStack, called at &lt;interactive&gt;:2:1 in interactive:Ghci1
</pre><p>GHC solves <code><a href="RIO.html#t:HasCallStack">HasCallStack</a></code> constraints in three steps:</p><ol><li>If there is a <code><a href="RIO-Logger.html#t:CallStack">CallStack</a></code> in scope -- i.e. the enclosing function
    has a <code><a href="RIO.html#t:HasCallStack">HasCallStack</a></code> constraint -- GHC will append the new
    call-site to the existing <code><a href="RIO-Logger.html#t:CallStack">CallStack</a></code>.</li><li>If there is no <code><a href="RIO-Logger.html#t:CallStack">CallStack</a></code> in scope -- e.g. in the GHCi session
    above -- and the enclosing definition does not have an explicit
    type signature, GHC will infer a <code><a href="RIO.html#t:HasCallStack">HasCallStack</a></code> constraint for the
    enclosing definition (subject to the monomorphism restriction).</li><li>If there is no <code><a href="RIO-Logger.html#t:CallStack">CallStack</a></code> in scope and the enclosing definition
    has an explicit type signature, GHC will solve the <code><a href="RIO.html#t:HasCallStack">HasCallStack</a></code>
    constraint for the singleton <code><a href="RIO-Logger.html#t:CallStack">CallStack</a></code> containing just the
    current call-site.</li></ol><p><code><a href="RIO-Logger.html#t:CallStack">CallStack</a></code>s do not interact with the RTS and do not require compilation
 with <code>-prof</code>. On the other hand, as they are built up explicitly via the
 <code><a href="RIO.html#t:HasCallStack">HasCallStack</a></code> constraints, they will generally not contain as much
 information as the simulated call-stacks maintained by the RTS.</p><p>A <code><a href="RIO-Logger.html#t:CallStack">CallStack</a></code> is a <code>[(String, SrcLoc)]</code>. The <code>String</code> is the name of
 function that was called, the <code><a href="../base-4.10.1.0/GHC-Stack.html#t:SrcLoc">SrcLoc</a></code> is the call-site. The list is
 ordered with the most recently called function at the head.</p><p>NOTE: The intrepid user may notice that <code><a href="RIO.html#t:HasCallStack">HasCallStack</a></code> is just an
 alias for an implicit parameter <code>?callStack :: CallStack</code>. This is an
 implementation detail and <strong>should not</strong> be considered part of the
 <code><a href="RIO-Logger.html#t:CallStack">CallStack</a></code> API, we may decide to change the implementation in the
 future.</p><p><em>Since: 4.8.1.0</em></p></div><div class="subs instances"><p id="control.i:CallStack" class="caption collapser" onclick="toggleSection('i:CallStack')">Instances</p><div id="section.i:CallStack" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:CallStack:IsList:1" class="instance expander" onclick="toggleSection('i:id:CallStack:IsList:1')"></span> <a href="../base-4.10.1.0/GHC-Exts.html#t:IsList">IsList</a> <a href="RIO-Logger.html#t:CallStack">CallStack</a></span></td><td class="doc"><p>Be aware that 'fromList . toList = id' only for unfrozen <code><a href="RIO-Logger.html#t:CallStack">CallStack</a></code>s,
 since <code><a href="../base-4.10.1.0/GHC-Exts.html#v:toList">toList</a></code> removes frozenness information.</p><p><em>Since: 4.9.0.0</em></p></td></tr><tr><td colspan="2"><div id="section.i:id:CallStack:IsList:1" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../base-4.10.1.0/GHC-Exts.html#t:Item">Item</a> <a href="RIO-Logger.html#t:CallStack">CallStack</a> :: <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> <a href="#t:Item" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromList">fromList</a> :: [<a href="../base-4.10.1.0/GHC-Exts.html#t:Item">Item</a> <a href="RIO-Logger.html#t:CallStack">CallStack</a>] -&gt; <a href="RIO-Logger.html#t:CallStack">CallStack</a> <a href="#v:fromList" class="selflink">#</a></p><p class="src"><a href="#v:fromListN">fromListN</a> :: <a href="RIO.html#t:Int">Int</a> -&gt; [<a href="../base-4.10.1.0/GHC-Exts.html#t:Item">Item</a> <a href="RIO-Logger.html#t:CallStack">CallStack</a>] -&gt; <a href="RIO-Logger.html#t:CallStack">CallStack</a> <a href="#v:fromListN" class="selflink">#</a></p><p class="src"><a href="#v:toList">toList</a> :: <a href="RIO-Logger.html#t:CallStack">CallStack</a> -&gt; [<a href="../base-4.10.1.0/GHC-Exts.html#t:Item">Item</a> <a href="RIO-Logger.html#t:CallStack">CallStack</a>] <a href="#v:toList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:CallStack:Show:2" class="instance expander" onclick="toggleSection('i:id:CallStack:Show:2')"></span> <a href="RIO.html#t:Show">Show</a> <a href="RIO-Logger.html#t:CallStack">CallStack</a></span></td><td class="doc"><p><em>Since: 4.9.0.0</em></p></td></tr><tr><td colspan="2"><div id="section.i:id:CallStack:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="RIO.html#t:Int">Int</a> -&gt; <a href="RIO-Logger.html#t:CallStack">CallStack</a> -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="RIO-Logger.html#t:CallStack">CallStack</a> -&gt; <a href="RIO.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="RIO-Logger.html#t:CallStack">CallStack</a>] -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:CallStack:NFData:3" class="instance expander" onclick="toggleSection('i:id:CallStack:NFData:3')"></span> <a href="RIO.html#t:NFData">NFData</a> <a href="RIO-Logger.html#t:CallStack">CallStack</a></span></td><td class="doc"><p><em>Since: 1.4.2.0</em></p></td></tr><tr><td colspan="2"><div id="section.i:id:CallStack:NFData:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="RIO-Logger.html#t:CallStack">CallStack</a> -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:CallStack:Item:4" class="instance expander" onclick="toggleSection('i:id:CallStack:Item:4')"></span> <span class="keyword">type</span> <a href="../base-4.10.1.0/GHC-Exts.html#t:Item">Item</a> <a href="RIO-Logger.html#t:CallStack">CallStack</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:CallStack:Item:4" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="../base-4.10.1.0/GHC-Exts.html#t:Item">Item</a> <a href="RIO-Logger.html#t:CallStack">CallStack</a> = (<a href="RIO.html#t:String">String</a>, <a href="../base-4.10.1.0/GHC-Stack.html#t:SrcLoc">SrcLoc</a>)</div></div></td></tr></table></div></div></div><h1 id="g:10">Convenience functions</h1><div class="top"><p class="src"><a id="v:displayCallStack" class="def">displayCallStack</a> :: <a href="RIO-Logger.html#t:CallStack">CallStack</a> -&gt; <a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a> <a href="src/RIO.Logger.html#displayCallStack" class="link">Source</a> <a href="#v:displayCallStack" class="selflink">#</a></p><div class="doc"><p>Convert a <code><a href="RIO-Logger.html#t:CallStack">CallStack</a></code> value into a <code><a href="RIO.html#t:DisplayBuilder">DisplayBuilder</a></code> indicating
 the first source location.</p><p>TODO Consider showing the entire call stack instead.</p><p><em>Since: 0.0.0.0</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>